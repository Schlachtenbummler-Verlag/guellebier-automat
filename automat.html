<!-- VollstÃ¤ndiger GÃ¼llebier-Automat mit eigenen Google-Drive-Sounds -->
<html>
<head>
<meta charset="UTF-8">
<title>GÃ¼llebier-Automat</title>
<style>
  .gba{font-family:sans-serif;color:#fff;background:#222;padding:18px;border-radius:12px;max-width:680px;margin:auto}
  .gba__header{text-align:center}
  .gba__machine{margin:12px 0;text-align:center}
  .gba__reels{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:12px}
  .reel{background:#111;padding:10px;border-radius:8px}
  .symbol{height:80px;display:flex;align-items:center;justify-content:center}
  .gba__lever{background:#f8d24a;border:none;padding:8px 16px;font-weight:bold;border-radius:20px;cursor:pointer}
  .gba__result{margin-top:12px;padding:8px;background:#111;border-radius:8px;min-height:50px}
  .badge{display:inline-block;margin-left:6px;padding:2px 6px;border-radius:8px;font-size:.8rem}
  .desc{font-size:.85rem;color:#ccc;margin-top:4px}
</style>
</head>
<body>
<div id="guellebier-automat" class="gba">
  <div class="gba__header">
    <h2>ðŸŽ° GÃ¼llebier-Automat</h2>
    <p class="gba__sub">Zieh den Hebel und braue dein Rezept!</p>
  </div>

  <div class="gba__machine">
    <div class="gba__reels">
      <div class="reel" data-index="0"><div class="symbol"></div></div>
      <div class="reel" data-index="1"><div class="symbol"></div></div>
      <div class="reel" data-index="2"><div class="symbol"></div></div>
      <div class="reel" data-index="3"><div class="symbol"></div></div>
    </div>
    <button class="gba__lever" id="gbaSpin" type="button">Hebel ziehen</button>
  </div>

  <div class="gba__result" id="gbaResult"></div>
</div>

<!-- Eigene Sounds von Google Drive -->
<audio id="sndButton" src="https://drive.google.com/uc?export=view&id=1XdYDLZ54YCjm_o4swkhiY41yBfuGoIC1"></audio>
<audio id="sndRattle" src="https://drive.google.com/uc?export=view&id=1Q5bcT94ZZLhHVDK12xhD0FyyBOchv9Le" loop></audio>
<audio id="sndStop" src="https://drive.google.com/uc?export=view&id=1c9T6lmeWIvzE5zqOKC3WvPWIAQCqZAF3"></audio>
<audio id="sndResult" src="https://drive.google.com/uc?export=view&id=1hLNa9em7ZhGiFpe1h-OJnonYQrAZhClN"></audio>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const reels = Array.from(document.querySelectorAll('.reel'));
  const btn   = document.querySelector('#gbaSpin');
  const out   = document.querySelector('#gbaResult');
  const sndButton=document.getElementById('sndButton');
  const sndRattle=document.getElementById('sndRattle');
  const sndStop=document.getElementById('sndStop');
  const sndResult=document.getElementById('sndResult');
  const COLORS = ['rot','blau','gruen','gelb'];

  const SVG = {
    rot:`<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg' width='80' height='80'><path fill='#2b9e45' d='M42 10c6 1 10 6 10 12-6-2-11-6-10-12zM37 9c-2 5-8 10-15 10 3-7 9-11 15-10z'/><path fill='#d94a4a' d='M31 18c10 0 19 8 19 18S43 54 31 54 12 45 12 36s9-18 19-18z'/></svg>`,
    blau:`<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg' width='80' height='80'><path fill='#2c9aa7' d='M42 10c6 1 10 6 10 12-6-2-11-6-10-12zM37 9c-2 5-8 10-15 10 3-7 9-11 15-10z'/><path fill='#3a7bd5' d='M31 18c10 0 19 8 19 18S43 54 31 54 12 45 12 36s9-18 19-18z'/></svg>`,
    gruen:`<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg' width='80' height='80'><path fill='#1f8a4c' d='M42 10c6 1 10 6 10 12-6-2-11-6-10-12zM37 9c-2 5-8 10-15 10 3-7 9-11 15-10z'/><path fill='#2ecc71' d='M31 18c10 0 19 8 19 18S43 54 31 54 12 45 12 36s9-18 19-18z'/></svg>`,
    gelb:`<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg' width='80' height='80'><path fill='#79b92f' d='M42 10c6 1 10 6 10 12-6-2-11-6-10-12zM37 9c-2 5-8 10-15 10 3-7 9-11 15-10z'/><path fill='#f5d142' d='M31 18c10 0 19 8 19 18S43 54 31 54 12 45 12 36s9-18 19-18z'/></svg>`
  };

  const RECIPES = {
    'rot,rot,rot,rot': {name:'DÃ¶sselheimer Doppelbock',pts:35,desc:'Stark wie ein Pflug â€“ nur im Stehen genieÃŸen.'},
    'blau,blau,blau,blau': {name:'Leberknebel Spezial',pts:35,desc:'Klemmt zuverlÃ¤ssig. Arzt danach konsultieren.'},
    'gruen,gruen,gruen,gruen': {name:'Braune SoÃŸe Pur',pts:35,desc:'ZÃ¤hflÃ¼ssig, herzhaft â€“ lÃ¶st Schrauben und Sorgen.'},
    'gelb,gelb,gelb,gelb': {name:'Flotter Otto Hell',pts:35,desc:'Rinnt wie der Bach bei Schwitzwasser. Gute Reise!'},
    'rot,rot,rot,blau': {name:'Klemritzer Nierenquetscher',pts:32,desc:'Massiert die Organe von innen.'},
    'rot,rot,rot,gruen': {name:'RÃ¼lpsheimer Starkbier',pts:32,desc:'Schenkt Bass im Bauch.'},
    'rot,rot,rot,gelb': {name:'LÃ¤sterhainer Jodelsprudel',pts:32,desc:'Nach zwei Schlucken singst du.'},
    'blau,blau,blau,rot': {name:'Donnerburger SteiÃŸtritt',pts:31,desc:'Trifft sicher.'},
    'blau,blau,blau,gruen': {name:'Hassnitzer KellerbrÃ¤u',pts:31,desc:'Aus dem dunklen Fass.'},
    'blau,blau,blau,gelb': {name:'Stinkhornsuppe Spezial',pts:31,desc:'Duftet nach Abenteuer.'},
    'gruen,gruen,gruen,rot': {name:'PlÃ¤rrener Humpentrunk',pts:30,desc:'GroÃŸ im Glas, laut im Kopf.'},
    'gruen,gruen,gruen,blau': {name:'Hassburger Urstoff',pts:30,desc:'NÃ¤hrt wie Brot.'},
    'gruen,gruen,gruen,gelb': {name:'Dreschmarer Magenhieb',pts:30,desc:'Direkt und unvergesslich.'},
    'gelb,gelb,gelb,rot': {name:'Kratziger GÃ¶ttertrunk',pts:29,desc:'Schmeckt gÃ¶ttlich.'},
    'gelb,gelb,gelb,blau': {name:'Ynnors Schlaftrunk',pts:29,desc:'Wirkt sofort.'},
    'gelb,gelb,gelb,gruen': {name:'Schwitzwasser DÃ¼nnbier',pts:29,desc:'Leicht bekÃ¶mmlich.'},
    'rot,rot,blau,blau': {name:'BeiÃŸburger Hamsterwurf',pts:23,desc:'Zwei Paare, ein Ziel.'},
    'rot,rot,gruen,gruen': {name:'Ningelner Nostalgiker',pts:22,desc:'Schmeckt nach frÃ¼her.'},
    'rot,rot,gelb,gelb': {name:'Stockheimer Knollentrunk',pts:21,desc:'Dick im Glas.'},
    'blau,blau,gruen,gruen': {name:'Feldschorle Spezial',pts:20,desc:'Halb Wiese, halb Wolke.'},
    'blau,blau,gelb,gelb': {name:'RÃ¼bensprudel Deluxe',pts:19,desc:'Perlt wie GerÃ¼chte.'},
    'gruen,gruen,gelb,gelb': {name:'Krauttrunk Extra Herb',pts:18,desc:'Kratzig im Abgang.'},
    'rot,rot,blau,gruen': {name:'Bierleichen Mix',pts:17,desc:'FÃ¼r NÃ¤chte ohne Erinnerung.'},
    'rot,rot,blau,gelb': {name:'Doppelacker Sud',pts:16,desc:'Zweifeldrig gebraut.'},
    'rot,rot,gruen,gelb': {name:'Erntetrunk',pts:15,desc:'Wie Feierabend.'},
    'blau,blau,rot,gruen': {name:'Feldweg Fusel',pts:14,desc:'Holprig, aber zielstrebig.'},
    'blau,blau,rot,gelb': {name:'Ackerbowle',pts:13,desc:'Mit allem drin.'},
    'blau,blau,gruen,gelb': {name:'Lumpas Limo',pts:12,desc:'SÃ¼ÃŸ und frech.'},
    'gruen,gruen,rot,blau': {name:'HopfenrÃ¼be Hell',pts:11,desc:'LeichtfÃ¼ÃŸig.'},
    'gruen,gruen,rot,gelb': {name:'Ackerschorle',pts:10,desc:'Halb Arbeit, halb Pause.'},
    'gruen,gruen,blau,gelb': {name:'GÃ¤rtnerpils',pts:9,desc:'BlÃ¼ht im Glas.'},
    'gelb,gelb,rot,blau': {name:'RÃ¼benschnaps',pts:8,desc:'Kurz, krÃ¤ftig.'},
    'gelb,gelb,rot,gruen': {name:'Knollentrunk Spezial',pts:7,desc:'Rund im Mund.'},
    'gelb,gelb,blau,gruen': {name:'Hamstersud',pts:7,desc:'Schnell getrunken.'},
    'rot,blau,gruen,gelb': {name:'Querbeet Bier',pts:1,desc:'Von allem ein bisschen.'}
  };

  const RECIPES_INDEX={};
  Object.keys(RECIPES).forEach(k=>{ RECIPES_INDEX[k.split(',').sort().join(',')] = RECIPES[k]; });

  function normalize(combo){ return combo.slice().sort().join(','); }
  function evaluate(result){
    const key=normalize(result);
    const recipe=RECIPES_INDEX[key]||{name:'Krautwasser',pts:0,desc:'Schmeckt nach nix.'};
    out.innerHTML=`<div class="name">${recipe.name} <span class="badge">+${recipe.pts} Punkte</span></div><div class="desc">${recipe.desc||''}</div>`;
    sndResult.currentTime=0; sndResult.play();
  }

  function randomColor(){ return COLORS[Math.floor(Math.random()*COLORS.length)]; }
  function setSymbol(reelEl,color){
    const sym=reelEl.querySelector('.symbol');
    sym.className='symbol '+color;
    sym.innerHTML=SVG[color];
  }

  reels.forEach(reel=> setSymbol(reel, randomColor()));

  function spin(){
    btn.disabled=true; out.textContent='â€¦brautâ€¦';
    sndButton.currentTime=0; sndButton.play();
    sndRattle.currentTime=0; sndRattle.play();
    const finals=[];
    reels.forEach((reel,i)=>{
      let delay=1200+i*800;
      const t=setInterval(()=> setSymbol(reel, randomColor()),150);
      setTimeout(()=>{
        clearInterval(t);
        const c=randomColor();
        setSymbol(reel,c);
        finals[i]=c;
        sndStop.currentTime=0; sndStop.play();
        if(i===reels.length-1){
          sndRattle.pause();
          btn.disabled=false;
          evaluate(finals);
        }
      },delay);
    });
  }

  btn.addEventListener('click',spin);
});
</script>
</body>
</html>
